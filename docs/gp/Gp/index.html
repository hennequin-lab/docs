<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gp (gp.Gp)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">gp</a> &#x00BB; Gp</nav><h1>Module <code>Gp</code></h1><p>The workflow is:</p><ol><li>define your figure, ie a <code>(module Plot) -&gt; unit</code> function</li><li>decide on an output format (see <a href="index.html#out"><span>Output terminals</span></a> below)</li><li>draw your figure: see <a href="index.html#val-draw"><code>draw</code></a> below.</li></ol><p>Simple example:</p><pre><code class="ml">open Gp
let figure (module P: Plot) =
  P.plot (F &quot;cos(x)&quot;) ~style:&quot;l lc 8 lw 2&quot; [ barebone ]
let () = draw ~output:(png &quot;test.png&quot;) figure</code></pre><nav class="toc"><ul><li><a href="#prms">Gnuplot parameters</a></li><li><a href="#defining-your-figure">Defining your figure</a><ul><li><a href="#plot-properties">Plot properties</a></li><li><a href="#types-of-data-you-can-plot">Types of data you can plot</a></li><li><a href="#plotting-functions">Plotting functions</a></li></ul></li><li><a href="#out">Output terminals</a></li><li><a href="#drawing-your-figure">Drawing your figure</a></li></ul></nav></header><section><header><h2 id="prms"><a href="#prms" class="anchor"></a>Gnuplot parameters</h2></header><dl><dt class="spec type" id="type-prms"><a href="#type-prms" class="anchor"></a><code><span class="keyword">type</span> prms</code></dt></dl><dl><dt class="spec value" id="val-prms"><a href="#val-prms" class="anchor"></a><code><span class="keyword">val</span> prms : <span>?&#8288;tmp_root:string</span> <span>&#45;&gt;</span> <span>?&#8288;gnuplot:string</span> <span>&#45;&gt;</span> <span>?&#8288;init:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-prms">prms</a></code></dt><dd><dl><dt>parameter tmp_root</dt><dd><p>Root directory for temporary files. Default: <code>/dev/shm</code> if it exists, otherwise <code>/tmp</code>.</p></dd></dl><dl><dt>parameter gnuplot</dt><dd><p>Path to the gnuplot executable.</p></dd></dl><dl><dt>parameter init</dt><dd><p>A string containing gnuplot commands to be executed right from the beginning. Default is &quot;set key noautotitle; set border 3; set tics out nomirror&quot;.</p></dd></dl></dd></dl></section><section><header><h2 id="defining-your-figure"><a href="#defining-your-figure" class="anchor"></a>Defining your figure</h2></header><section><header><h3 id="plot-properties"><a href="#plot-properties" class="anchor"></a>Plot properties</h3></header><dl><dt class="spec type" id="type-side"><a href="#type-side" class="anchor"></a><code><span class="keyword">type</span> side</code> = <code>[ </code><table class="variant"><tr id="type-side.left" class="anchored"><td class="def constructor"><a href="#type-side.left" class="anchor"></a><code>| </code><code>`left</code></td><td class="doc"><p>left</p></td></tr><tr id="type-side.right" class="anchored"><td class="def constructor"><a href="#type-side.right" class="anchor"></a><code>| </code><code>`right</code></td><td class="doc"><p>right</p></td></tr><tr id="type-side.top" class="anchored"><td class="def constructor"><a href="#type-side.top" class="anchor"></a><code>| </code><code>`top</code></td><td class="doc"><p>top</p></td></tr><tr id="type-side.bottom" class="anchored"><td class="def constructor"><a href="#type-side.bottom" class="anchor"></a><code>| </code><code>`bottom</code></td><td class="doc"><p>bottom</p></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-margin"><a href="#type-margin" class="anchor"></a><code><span class="keyword">type</span> margin</code> = <code>[ </code><table class="variant"><tr id="type-margin.left" class="anchored"><td class="def constructor"><a href="#type-margin.left" class="anchor"></a><code>| </code><code>`left <span class="keyword">of</span> float</code></td><td class="doc"><p>left</p></td></tr><tr id="type-margin.right" class="anchored"><td class="def constructor"><a href="#type-margin.right" class="anchor"></a><code>| </code><code>`right <span class="keyword">of</span> float</code></td><td class="doc"><p>right</p></td></tr><tr id="type-margin.top" class="anchored"><td class="def constructor"><a href="#type-margin.top" class="anchor"></a><code>| </code><code>`top <span class="keyword">of</span> float</code></td><td class="doc"><p>top</p></td></tr><tr id="type-margin.bottom" class="anchored"><td class="def constructor"><a href="#type-margin.bottom" class="anchor"></a><code>| </code><code>`bottom <span class="keyword">of</span> float</code></td><td class="doc"><p>bottom</p></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-offset"><a href="#type-offset" class="anchor"></a><code><span class="keyword">type</span> offset</code> = <code>[ </code><table class="variant"><tr id="type-offset.left" class="anchored"><td class="def constructor"><a href="#type-offset.left" class="anchor"></a><code>| </code><code>`left <span class="keyword">of</span> <span>[ <span>`graph of float</span> <span><span>| `first</span> of float</span> ]</span></code></td></tr><tr id="type-offset.right" class="anchored"><td class="def constructor"><a href="#type-offset.right" class="anchor"></a><code>| </code><code>`right <span class="keyword">of</span> <span>[ <span>`graph of float</span> <span><span>| `first</span> of float</span> ]</span></code></td></tr><tr id="type-offset.top" class="anchored"><td class="def constructor"><a href="#type-offset.top" class="anchor"></a><code>| </code><code>`top <span class="keyword">of</span> <span>[ <span>`graph of float</span> <span><span>| `first</span> of float</span> ]</span></code></td></tr><tr id="type-offset.bottom" class="anchored"><td class="def constructor"><a href="#type-offset.bottom" class="anchor"></a><code>| </code><code>`bottom <span class="keyword">of</span> <span>[ <span>`graph of float</span> <span><span>| `first</span> of float</span> ]</span></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-tics"><a href="#type-tics" class="anchor"></a><code><span class="keyword">type</span> tics</code> = <code>[ </code><table class="variant"><tr id="type-tics.auto" class="anchored"><td class="def constructor"><a href="#type-tics.auto" class="anchor"></a><code>| </code><code>`auto</code></td><td class="doc"><p>let gnuplot take care of it</p></td></tr><tr id="type-tics.manual" class="anchored"><td class="def constructor"><a href="#type-tics.manual" class="anchor"></a><code>| </code><code>`manual <span class="keyword">of</span> <span><span>(float * string)</span> list</span></code></td><td class="doc"><p>manual list</p></td></tr><tr id="type-tics.regular" class="anchored"><td class="def constructor"><a href="#type-tics.regular" class="anchor"></a><code>| </code><code>`regular <span class="keyword">of</span> float * float * float</code></td><td class="doc"><p>start, incr, end</p></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-property"><a href="#type-property" class="anchor"></a><code><span class="keyword">type</span> property</code></dt></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-unset"><a href="#val-unset" class="anchor"></a><code><span class="keyword">val</span> unset : string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-barebone"><a href="#val-barebone" class="anchor"></a><code><span class="keyword">val</span> barebone : <a href="index.html#type-property">property</a></code></dt><dd><p>Trim the plot to the bare minimum: no axes, no labels, no tics, nothing but your lovely plot. A great place to start for a beautiful plot.</p></dd></dl><dl><dt class="spec value" id="val-title"><a href="#val-title" class="anchor"></a><code><span class="keyword">val</span> title : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-margins"><a href="#val-margins" class="anchor"></a><code><span class="keyword">val</span> margins : <span><a href="index.html#type-margin">margin</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-offsets"><a href="#val-offsets" class="anchor"></a><code><span class="keyword">val</span> offsets : <span><a href="index.html#type-offset">offset</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-borders"><a href="#val-borders" class="anchor"></a><code><span class="keyword">val</span> borders : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span><a href="index.html#type-side">side</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-tics"><a href="#val-tics" class="anchor"></a><code><span class="keyword">val</span> tics : string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-xtics"><a href="#val-xtics" class="anchor"></a><code><span class="keyword">val</span> xtics : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>[ `auto <span><span>| `manual</span> of <span><span>(float * <a href="index.html#type-property">property</a>)</span> list</span></span> <span><span>| `regular</span> of <span>float list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-ytics"><a href="#val-ytics" class="anchor"></a><code><span class="keyword">val</span> ytics : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>[ `auto <span><span>| `manual</span> of <span><span>(float * <a href="index.html#type-property">property</a>)</span> list</span></span> <span><span>| `regular</span> of <span>float list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-ztics"><a href="#val-ztics" class="anchor"></a><code><span class="keyword">val</span> ztics : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>[ `auto <span><span>| `manual</span> of <span><span>(float * <a href="index.html#type-property">property</a>)</span> list</span></span> <span><span>| `regular</span> of <span>float list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-cbtics"><a href="#val-cbtics" class="anchor"></a><code><span class="keyword">val</span> cbtics : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>[ `auto <span><span>| `manual</span> of <span><span>(float * <a href="index.html#type-property">property</a>)</span> list</span></span> <span><span>| `regular</span> of <span>float list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-x2tics"><a href="#val-x2tics" class="anchor"></a><code><span class="keyword">val</span> x2tics : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>[ `auto <span><span>| `manual</span> of <span><span>(float * <a href="index.html#type-property">property</a>)</span> list</span></span> <span><span>| `regular</span> of <span>float list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-y2tics"><a href="#val-y2tics" class="anchor"></a><code><span class="keyword">val</span> y2tics : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>[ `auto <span><span>| `manual</span> of <span><span>(float * <a href="index.html#type-property">property</a>)</span> list</span></span> <span><span>| `regular</span> of <span>float list</span></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-xlabel"><a href="#val-xlabel" class="anchor"></a><code><span class="keyword">val</span> xlabel : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-ylabel"><a href="#val-ylabel" class="anchor"></a><code><span class="keyword">val</span> ylabel : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-zlabel"><a href="#val-zlabel" class="anchor"></a><code><span class="keyword">val</span> zlabel : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-cblabel"><a href="#val-cblabel" class="anchor"></a><code><span class="keyword">val</span> cblabel : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-x2label"><a href="#val-x2label" class="anchor"></a><code><span class="keyword">val</span> x2label : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-y2label"><a href="#val-y2label" class="anchor"></a><code><span class="keyword">val</span> y2label : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-xrange"><a href="#val-xrange" class="anchor"></a><code><span class="keyword">val</span> xrange : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>(float * float)</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-yrange"><a href="#val-yrange" class="anchor"></a><code><span class="keyword">val</span> yrange : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>(float * float)</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-zrange"><a href="#val-zrange" class="anchor"></a><code><span class="keyword">val</span> zrange : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>(float * float)</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-cbrange"><a href="#val-cbrange" class="anchor"></a><code><span class="keyword">val</span> cbrange : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>(float * float)</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-x2range"><a href="#val-x2range" class="anchor"></a><code><span class="keyword">val</span> x2range : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>(float * float)</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-y2range"><a href="#val-y2range" class="anchor"></a><code><span class="keyword">val</span> y2range : <span>?&#8288;o:string</span> <span>&#45;&gt;</span> <span>(float * float)</span> <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-default_props"><a href="#val-default_props" class="anchor"></a><code><span class="keyword">val</span> default_props : <span><a href="index.html#type-property">property</a> list</span></code></dt><dd><p>Some decent default plot properties.</p></dd></dl></section><section><header><h3 id="types-of-data-you-can-plot"><a href="#types-of-data-you-can-plot" class="anchor"></a>Types of data you can plot</h3></header><dl><dt class="spec type" id="type-data"><a href="#type-data" class="anchor"></a><code><span class="keyword">type</span> data</code><code> = </code><table class="variant"><tr id="type-data.A" class="anchored"><td class="def constructor"><a href="#type-data.A" class="anchor"></a><code>| </code><code><span class="constructor">A</span> <span class="keyword">of</span> Owl.Mat.mat</code></td><td class="doc"><p>An owl array; if it has a single row, it is interpreted as a single column</p></td></tr><tr id="type-data.L" class="anchored"><td class="def constructor"><a href="#type-data.L" class="anchor"></a><code>| </code><code><span class="constructor">L</span> <span class="keyword">of</span> <span>Owl.Mat.mat list</span></code></td><td class="doc"><p>A list of owl arrays, which are concatenated along the second axis before being passed to gnuplot. Again, arrays of size <code>1 x N</code> are interpreted as <code>N x 1</code> for convenience</p></td></tr><tr id="type-data.F" class="anchored"><td class="def constructor"><a href="#type-data.F" class="anchor"></a><code>| </code><code><span class="constructor">F</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>A function as you would write in gnuplot</p></td></tr></table></dt></dl></section><section><header><h3 id="plotting-functions"><a href="#plotting-functions" class="anchor"></a>Plotting functions</h3></header><dl><dt class="spec type" id="type-item"><a href="#type-item" class="anchor"></a><code><span class="keyword">type</span> item</code></dt></dl><dl><dt class="spec value" id="val-item"><a href="#val-item" class="anchor"></a><code><span class="keyword">val</span> item : <span>?&#8288;using:string</span> <span>&#45;&gt;</span> <span>?&#8288;axes:string</span> <span>&#45;&gt;</span> <span>?&#8288;legend:string</span> <span>&#45;&gt;</span> <span>?&#8288;style:string</span> <span>&#45;&gt;</span> <a href="index.html#type-data">data</a> <span>&#45;&gt;</span> <a href="index.html#type-item">item</a></code></dt><dd><p>See <a href="module-type-Plot/index.html#val-plot"><code>Plot.plot</code></a> for meaning of parameters. Example:</p><pre><code class="ml">let () =
  let x = Mat.gaussian 100 4 in
  let fig (module P: Plot) =
    P.plots 
      [ item (A x) ~using:&quot;1:3&quot; ~style:&quot;p pt 7 lc 8 ps 0.5&quot;;
        item (A x) ~using:&quot;2:4&quot; ~style:&quot;p pt 7 lc 7 ps 0.5&quot; ]
      [ barebone ] in
  draw ~output:(png &quot;test&quot;) fig</code></pre></dd></dl><dl><dt class="spec module-type" id="module-type-Plot"><a href="#module-type-Plot" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Plot/index.html">Plot</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Contains all the commands you need to draw your figure</p></dd></dl></section></section><section><header><h2 id="out"><a href="#out" class="anchor"></a>Output terminals</h2></header><aside><p>NB: if you are in a Jupyter notebook, you should not use any of the terminals below; instead, use <span class="xref-unresolved" title="unresolved reference to &quot;Juplot.draw&quot;"><code>Juplot</code>.draw</span>.</p></aside><dl><dt class="spec type" id="type-output"><a href="#type-output" class="anchor"></a><code><span class="keyword">type</span> output</code></dt></dl><dl><dt class="spec value" id="val-svg"><a href="#val-svg" class="anchor"></a><code><span class="keyword">val</span> svg : <span>?&#8288;font:string</span> <span>&#45;&gt;</span> <span>?&#8288;size:<span>(int * int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;other_term_opts:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt><dt class="spec value" id="val-png"><a href="#val-png" class="anchor"></a><code><span class="keyword">val</span> png : <span>?&#8288;font:string</span> <span>&#45;&gt;</span> <span>?&#8288;size:<span>(int * int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;other_term_opts:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt><dt class="spec value" id="val-qt"><a href="#val-qt" class="anchor"></a><code><span class="keyword">val</span> qt : <span>?&#8288;font:string</span> <span>&#45;&gt;</span> <span>?&#8288;size:<span>(int * int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;other_term_opts:string</span> <span>&#45;&gt;</span> <span>?&#8288;pause:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt><dt class="spec value" id="val-latex"><a href="#val-latex" class="anchor"></a><code><span class="keyword">val</span> latex : <span>?&#8288;term_opts:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt></dl><dl><dt class="spec type" id="type-tikz_font"><a href="#type-tikz_font" class="anchor"></a><code><span class="keyword">type</span> tikz_font</code></dt></dl><dl><dt class="spec value" id="val-cmbright"><a href="#val-cmbright" class="anchor"></a><code><span class="keyword">val</span> cmbright : <a href="index.html#type-tikz_font">tikz_font</a></code></dt><dt class="spec value" id="val-helvetica"><a href="#val-helvetica" class="anchor"></a><code><span class="keyword">val</span> helvetica : <a href="index.html#type-tikz_font">tikz_font</a></code></dt><dt class="spec value" id="val-tikz"><a href="#val-tikz" class="anchor"></a><code><span class="keyword">val</span> tikz : <span>?&#8288;grid:bool</span> <span>&#45;&gt;</span> <span>?&#8288;crop:bool</span> <span>&#45;&gt;</span> <span>?&#8288;font:<a href="index.html#type-tikz_font">tikz_font</a></span> <span>&#45;&gt;</span> <span>?&#8288;tex:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt></dl></section><section><header><h2 id="drawing-your-figure"><a href="#drawing-your-figure" class="anchor"></a>Drawing your figure</h2></header><dl><dt class="spec value" id="val-draw"><a href="#val-draw" class="anchor"></a><code><span class="keyword">val</span> draw : <span>?&#8288;prms:<a href="index.html#type-prms">prms</a></span> <span>&#45;&gt;</span> <span>output:<a href="index.html#type-output">output</a></span> <span>&#45;&gt;</span> <span>(<span>(<span class="keyword">module</span> <a href="module-type-Plot/index.html">Plot</a>)</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Main drawing function: takes an output terminal (see <a href="index.html#out"><span>Output terminals</span></a> above) and a figure.</p></dd></dl><dl><dt class="spec value" id="val-interactive"><a href="#val-interactive" class="anchor"></a><code><span class="keyword">val</span> interactive : <span>?&#8288;interactive:bool</span> <span>&#45;&gt;</span> <span>?&#8288;size:<span>(int * int)</span></span> <span>&#45;&gt;</span> <span>(<span>(<span class="keyword">module</span> <a href="module-type-Plot/index.html">Plot</a>)</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>This is a shorthand for <code>draw ~output:(qt ())</code>;</p><dl><dt>parameter interactive</dt><dd><p>(Default: false) Enables interactions with the QT windows, including zooming, etc. Your program will stall until you close the QT window though.</p></dd></dl><dl><dt>parameter size</dt><dd><p>(Default: 600 x 400 pixels) Should be given in (y, x) pixel format.</p></dd></dl></dd></dl></section></div></body></html>