<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gp (gp.Gp)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">gp</a> &#x00BB; Gp</nav><h1>Module <code>Gp</code></h1><p>The workflow is:</p><ol><li>create your figure, which is a <code>(module Figure) -&gt; unit</code> function</li><li>decide on an output format (see <a href="index.html#out"><span>Output terminals</span></a> below)</li><li>draw your figure: see <a href="index.html#val-draw"><code>draw</code></a> below.</li></ol><p>Simple example:</p><pre><code class="ml">open Gp
let figure (module F: Figure) =
  F.barebone ();
  F.plot (F &quot;cos(x)&quot;) ~style:&quot;l lc 8 lw 2&quot;
let _ = draw ~output:(png &quot;test.png&quot;) figure</code></pre><nav class="toc"><ul><li><a href="#prms">Gnuplot parameters</a></li><li><a href="#out">Output terminals</a></li><li><a href="#defining-your-figure">Defining your figure</a><ul><li><a href="#axis-types">Axis types</a></li><li><a href="#plot-properties">Plot properties</a></li><li><a href="#types-of-data-you-can-plot">Types of data you can plot</a></li><li><a href="#plotting-functions">Plotting functions</a></li></ul></li><li><a href="#drawing-your-figure">Drawing your figure</a></li></ul></nav></header><section><header><h2 id="prms"><a href="#prms" class="anchor"></a>Gnuplot parameters</h2></header><dl><dt class="spec type" id="type-prms"><a href="#type-prms" class="anchor"></a><code><span class="keyword">type</span> prms</code></dt></dl><dl><dt class="spec value" id="val-prms"><a href="#val-prms" class="anchor"></a><code><span class="keyword">val</span> prms : ?&#8288;tmp_root:string <span>&#45;&gt;</span> ?&#8288;gnuplot:string <span>&#45;&gt;</span> ?&#8288;init:string <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-prms">prms</a></code></dt><dd><dl><dt>parameter tmp_root</dt><dd><p>Root directory for temporary files. Default: <code>/dev/shm</code> if it exists, otherwise <code>/tmp</code>.</p></dd></dl><dl><dt>parameter gnuplot</dt><dd><p>Path to the gnuplot executable.</p></dd></dl><dl><dt>parameter init</dt><dd><p>A string containing gnuplot commands to be executed right from the beginning. Default is &quot;set key noautotitle; set border 3; set tics out nomirror&quot;.</p></dd></dl></dd></dl></section><section><header><h2 id="out"><a href="#out" class="anchor"></a>Output terminals</h2></header><dl><dt class="spec type" id="type-output"><a href="#type-output" class="anchor"></a><code><span class="keyword">type</span> output</code></dt></dl><dl><dt class="spec value" id="val-svg"><a href="#val-svg" class="anchor"></a><code><span class="keyword">val</span> svg : ?&#8288;font:string <span>&#45;&gt;</span> ?&#8288;size:(int * int) <span>&#45;&gt;</span> ?&#8288;other_term_opts:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt><dt class="spec value" id="val-png"><a href="#val-png" class="anchor"></a><code><span class="keyword">val</span> png : ?&#8288;font:string <span>&#45;&gt;</span> ?&#8288;size:(int * int) <span>&#45;&gt;</span> ?&#8288;other_term_opts:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt><dt class="spec value" id="val-qt"><a href="#val-qt" class="anchor"></a><code><span class="keyword">val</span> qt : ?&#8288;font:string <span>&#45;&gt;</span> ?&#8288;size:(int * int) <span>&#45;&gt;</span> ?&#8288;other_term_opts:string <span>&#45;&gt;</span> ?&#8288;pause:string <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt><dt class="spec value" id="val-latex"><a href="#val-latex" class="anchor"></a><code><span class="keyword">val</span> latex : ?&#8288;term_opts:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-output">output</a></code></dt></dl></section><section><header><h2 id="defining-your-figure"><a href="#defining-your-figure" class="anchor"></a>Defining your figure</h2></header><section><header><h3 id="axis-types"><a href="#axis-types" class="anchor"></a>Axis types</h3></header><dl><dt class="spec type" id="type-axis"><a href="#type-axis" class="anchor"></a><code><span class="keyword">type</span> axis</code> = <code>[ </code><table class="variant"><tr id="type-axis.x" class="anchored"><td class="def constructor"><a href="#type-axis.x" class="anchor"></a><code>| </code><code>`x</code></td><td class="doc"><p>primary x-axis (bottom border)</p></td></tr><tr id="type-axis.x2" class="anchored"><td class="def constructor"><a href="#type-axis.x2" class="anchor"></a><code>| </code><code>`x2</code></td><td class="doc"><p>secondary x-axis (top border)</p></td></tr><tr id="type-axis.y" class="anchored"><td class="def constructor"><a href="#type-axis.y" class="anchor"></a><code>| </code><code>`y</code></td><td class="doc"><p>primary y-axis (left border)</p></td></tr><tr id="type-axis.y2" class="anchored"><td class="def constructor"><a href="#type-axis.y2" class="anchor"></a><code>| </code><code>`y2</code></td><td class="doc"><p>secondary y-axis (right border)</p></td></tr><tr id="type-axis.z" class="anchored"><td class="def constructor"><a href="#type-axis.z" class="anchor"></a><code>| </code><code>`z</code></td><td class="doc"><p>z-axis (only for 3D plots)</p></td></tr><tr id="type-axis.cb" class="anchored"><td class="def constructor"><a href="#type-axis.cb" class="anchor"></a><code>| </code><code>`cb</code></td><td class="doc"><p>colorbox axis</p></td></tr></table><code> ]</code></dt></dl></section><section><header><h3 id="plot-properties"><a href="#plot-properties" class="anchor"></a>Plot properties</h3></header><aside><p>These are properties you can set/unset, e.g.</p><pre><code class="ml">let figure (module F: Figure) =
     F.set Title &quot;a beautiful plot&quot;;
     F.unset Colorbox;
     F.set Range (`x, (0., Const.pi));
     [...] </code></pre></aside><dl><dt class="spec type" id="type-property"><a href="#type-property" class="anchor"></a><code><span class="keyword">type</span> _ property</code><code> = </code><table class="variant"><tr id="type-property.Title" class="anchored"><td class="def constructor"><a href="#type-property.Title" class="anchor"></a><code>| </code><code><span class="constructor">Title</span> : string <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Label" class="anchored"><td class="def constructor"><a href="#type-property.Label" class="anchor"></a><code>| </code><code><span class="constructor">Label</span> : (<a href="index.html#type-axis">axis</a> * string) <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Range" class="anchored"><td class="def constructor"><a href="#type-property.Range" class="anchor"></a><code>| </code><code><span class="constructor">Range</span> : (<a href="index.html#type-axis">axis</a> * (float * float)) <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Tics" class="anchored"><td class="def constructor"><a href="#type-property.Tics" class="anchor"></a><code>| </code><code><span class="constructor">Tics</span> : (<a href="index.html#type-axis">axis</a> * [ `list of (float * string) list | `def of float * float * float ]) <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Key" class="anchored"><td class="def constructor"><a href="#type-property.Key" class="anchor"></a><code>| </code><code><span class="constructor">Key</span> : string <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Palette" class="anchored"><td class="def constructor"><a href="#type-property.Palette" class="anchor"></a><code>| </code><code><span class="constructor">Palette</span> : string <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Format" class="anchored"><td class="def constructor"><a href="#type-property.Format" class="anchor"></a><code>| </code><code><span class="constructor">Format</span> : (<a href="index.html#type-axis">axis</a> * string) <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Autoscale" class="anchored"><td class="def constructor"><a href="#type-property.Autoscale" class="anchor"></a><code>| </code><code><span class="constructor">Autoscale</span> : <a href="index.html#type-axis">axis</a> <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Logscale" class="anchored"><td class="def constructor"><a href="#type-property.Logscale" class="anchor"></a><code>| </code><code><span class="constructor">Logscale</span> : <a href="index.html#type-axis">axis</a> <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Text" class="anchored"><td class="def constructor"><a href="#type-property.Text" class="anchor"></a><code>| </code><code><span class="constructor">Text</span> : (int * string) <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Border" class="anchored"><td class="def constructor"><a href="#type-property.Border" class="anchor"></a><code>| </code><code><span class="constructor">Border</span> : [ `t | `b | `l | `r ] list <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Colorbox" class="anchored"><td class="def constructor"><a href="#type-property.Colorbox" class="anchor"></a><code>| </code><code><span class="constructor">Colorbox</span> : string <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Multiplot" class="anchored"><td class="def constructor"><a href="#type-property.Multiplot" class="anchor"></a><code>| </code><code><span class="constructor">Multiplot</span> : unit <a href="index.html#type-property">property</a></code></td></tr><tr id="type-property.Prop" class="anchored"><td class="def constructor"><a href="#type-property.Prop" class="anchor"></a><code>| </code><code><span class="constructor">Prop</span> : string <a href="index.html#type-property">property</a></code></td></tr></table></dt><dt class="spec type" id="type-unset_property"><a href="#type-unset_property" class="anchor"></a><code><span class="keyword">type</span> _ unset_property</code><code> = </code><table class="variant"><tr id="type-unset_property.Title" class="anchored"><td class="def constructor"><a href="#type-unset_property.Title" class="anchor"></a><code>| </code><code><span class="constructor">Title</span> : unit <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Label" class="anchored"><td class="def constructor"><a href="#type-unset_property.Label" class="anchor"></a><code>| </code><code><span class="constructor">Label</span> : <a href="index.html#type-axis">axis</a> <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Tics" class="anchored"><td class="def constructor"><a href="#type-unset_property.Tics" class="anchor"></a><code>| </code><code><span class="constructor">Tics</span> : <a href="index.html#type-axis">axis</a> <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Key" class="anchored"><td class="def constructor"><a href="#type-unset_property.Key" class="anchor"></a><code>| </code><code><span class="constructor">Key</span> : unit <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Autoscale" class="anchored"><td class="def constructor"><a href="#type-unset_property.Autoscale" class="anchor"></a><code>| </code><code><span class="constructor">Autoscale</span> : <a href="index.html#type-axis">axis</a> <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Logscale" class="anchored"><td class="def constructor"><a href="#type-unset_property.Logscale" class="anchor"></a><code>| </code><code><span class="constructor">Logscale</span> : <a href="index.html#type-axis">axis</a> <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Text" class="anchored"><td class="def constructor"><a href="#type-unset_property.Text" class="anchor"></a><code>| </code><code><span class="constructor">Text</span> : int <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Border" class="anchored"><td class="def constructor"><a href="#type-unset_property.Border" class="anchor"></a><code>| </code><code><span class="constructor">Border</span> : unit <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Colorbox" class="anchored"><td class="def constructor"><a href="#type-unset_property.Colorbox" class="anchor"></a><code>| </code><code><span class="constructor">Colorbox</span> : unit <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Multiplot" class="anchored"><td class="def constructor"><a href="#type-unset_property.Multiplot" class="anchor"></a><code>| </code><code><span class="constructor">Multiplot</span> : unit <a href="index.html#type-unset_property">unset_property</a></code></td></tr><tr id="type-unset_property.Prop" class="anchored"><td class="def constructor"><a href="#type-unset_property.Prop" class="anchor"></a><code>| </code><code><span class="constructor">Prop</span> : string <a href="index.html#type-unset_property">unset_property</a></code></td></tr></table></dt></dl></section><section><header><h3 id="types-of-data-you-can-plot"><a href="#types-of-data-you-can-plot" class="anchor"></a>Types of data you can plot</h3></header><dl><dt class="spec type" id="type-data"><a href="#type-data" class="anchor"></a><code><span class="keyword">type</span> data</code><code> = </code><table class="variant"><tr id="type-data.A" class="anchored"><td class="def constructor"><a href="#type-data.A" class="anchor"></a><code>| </code><code><span class="constructor">A</span> <span class="keyword">of</span> Owl.Mat.mat</code></td><td class="doc"><p>An owl array; if it has a single row, it is interpreted as a single column</p></td></tr><tr id="type-data.L" class="anchored"><td class="def constructor"><a href="#type-data.L" class="anchor"></a><code>| </code><code><span class="constructor">L</span> <span class="keyword">of</span> Owl.Mat.mat list</code></td><td class="doc"><p>A list of owl arrays, which are concatenated along the second axis before being passed to gnuplot. Again, arrays of size <code>1 x N</code> are interpreted as <code>N x 1</code> for convenience</p></td></tr><tr id="type-data.F" class="anchored"><td class="def constructor"><a href="#type-data.F" class="anchor"></a><code>| </code><code><span class="constructor">F</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>A function as you would write in gnuplot</p></td></tr></table></dt></dl></section><section><header><h3 id="plotting-functions"><a href="#plotting-functions" class="anchor"></a>Plotting functions</h3></header><dl><dt class="spec type" id="type-item"><a href="#type-item" class="anchor"></a><code><span class="keyword">type</span> item</code></dt></dl><dl><dt class="spec value" id="val-item"><a href="#val-item" class="anchor"></a><code><span class="keyword">val</span> item : ?&#8288;using:string <span>&#45;&gt;</span> ?&#8288;axes:string <span>&#45;&gt;</span> ?&#8288;style:string <span>&#45;&gt;</span> <a href="index.html#type-data">data</a> <span>&#45;&gt;</span> <a href="index.html#type-item">item</a></code></dt><dd><p>See <a href="module-type-Figure/index.html#val-plot"><code>Figure.plot</code></a> for meaning of parameters. Example:</p><pre><code class="ml">let () =
  let x = Mat.gaussian 100 4 in
  let fig (module F) =
    F.barebone ();
    F.plots [ item (A x) ~using:&quot;1:3&quot; ~style:&quot;p pt 7 lc 8 ps 0.5&quot;;
              item (A x) ~using:&quot;2:4&quot; ~style:&quot;p pt 7 lc 7 ps 0.5&quot; ] in
  draw ~output:(png &quot;test&quot;) fig</code></pre></dd></dl><dl><dt class="spec module-type" id="module-type-Figure"><a href="#module-type-Figure" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Figure/index.html">Figure</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Contains all the commands you need to draw your figure</p></dd></dl></section></section><section><header><h2 id="drawing-your-figure"><a href="#drawing-your-figure" class="anchor"></a>Drawing your figure</h2></header><dl><dt class="spec value" id="val-draw"><a href="#val-draw" class="anchor"></a><code><span class="keyword">val</span> draw : ?&#8288;prms:<a href="index.html#type-prms">prms</a> <span>&#45;&gt;</span> output:<a href="index.html#type-output">output</a> <span>&#45;&gt;</span> ((<span class="keyword">module</span> <a href="module-type-Figure/index.html">Figure</a>) <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p>Main drawing function: takes an output terminal (see <a href="index.html#out"><span>Output terminals</span></a> above) and a figure.</p></dd></dl><dl><dt class="spec value" id="val-interactive"><a href="#val-interactive" class="anchor"></a><code><span class="keyword">val</span> interactive : ?&#8288;interactive:bool <span>&#45;&gt;</span> ?&#8288;size:(int * int) <span>&#45;&gt;</span> ((<span class="keyword">module</span> <a href="module-type-Figure/index.html">Figure</a>) <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p>This is a shorthand for <code>draw ~output:(qt ())</code>;</p><dl><dt>parameter interactive</dt><dd><p>(Default: false) Enables interactions with the QT windows, including zooming, etc. Your program will stall until you close the QT window though.</p></dd></dl><dl><dt>parameter size</dt><dd><p>(Default: 600 x 400 pixels) Should be given in (y, x) pixel format.</p></dd></dl></dd></dl></section></div></body></html>